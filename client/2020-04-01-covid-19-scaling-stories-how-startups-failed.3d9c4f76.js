import{S as e,i as a,s as t,e as o,a as r,t as s,q as i,c as n,f as l,d as c,b as h,k as d,g as u,l as p,j as f,h as g,n as y}from"./client.0fff3ffa.js";function m(e){let a,t,m,v,b,w,E,I,k,T,x,S,R,O,G,L,N,q,A,P,D,C,B,M,V,z,H,W,j,U,$,F,Y,Z,_,Q,K,J,X,ee,ae,te,oe,re,se,ie,ne,le,ce,he,de,ue,pe,fe,ge,ye,me,ve,be,we,Ee,Ie,ke,Te,xe,Se,Re,Oe,Ge,Le,Ne,qe,Ae,Pe,De,Ce,Be,Me,Ve,ze,He,We,je,Ue,$e,Fe,Ye,Ze,_e,Qe,Ke,Je,Xe,ea,aa,ta,oa,ra,sa,ia,na,la,ca,ha,da,ua,pa,fa,ga,ya,ma,va,ba,wa,Ea,Ia,ka,Ta,xa,Sa,Ra,Oa,Ga,La,Na,qa,Aa,Pa,Da,Ca,Ba,Ma,Va,za,Ha,Wa,ja,Ua,$a,Fa,Ya,Za,_a,Qa,Ka,Ja,Xa,et,at,tt,ot,rt,st,it,nt,lt,ct,ht,dt,ut,pt,ft,gt,yt,mt,vt,bt,wt,Et,It,kt,Tt,xt,St,Rt,Ot,Gt,Lt,Nt,qt,At,Pt,Dt,Ct,Bt,Mt,Vt,zt,Ht,Wt,jt,Ut,$t,Ft,Yt,Zt,_t,Qt,Kt,Jt,Xt,eo,ao,to,oo,ro,so,io,no,lo,co,ho,uo,po,fo,go,yo,mo,vo,bo,wo,Eo,Io,ko,To,xo,So,Ro,Oo,Go,Lo,No,qo,Ao,Po,Do,Co,Bo,Mo,Vo,zo,Ho,Wo,jo,Uo,$o,Fo,Yo,Zo,_o,Qo,Ko,Jo,Xo,er,ar,tr,or,rr,sr,ir,nr,lr,cr,hr,dr,ur,pr,fr,gr,yr,mr,vr,br,wr,Er,Ir,kr,Tr,xr,Sr,Rr,Or,Gr,Lr,Nr,qr,Ar,Pr,Dr,Cr,Br,Mr,Vr,zr,Hr,Wr,jr,Ur,$r,Fr,Yr,Zr,_r;return document.title=a="\n    @cyppan | "+e[0]+"\n  ",{c(){t=o("link"),m=o("meta"),b=o("meta"),w=o("meta"),E=o("meta"),I=o("meta"),k=o("meta"),T=r(),x=o("section"),S=o("div"),R=o("div"),O=o("div"),G=o("h1"),L=s(e[0]),N=r(),q=o("blockquote"),A=o("ul"),P=o("li"),D=s("\"It doesn't work at all, my children can't connect to the online class !\""),C=r(),B=o("li"),M=s("\"We're very sorry about that it's an exceptional situation, we're working on the problem with our tech team and will keep you posted.\""),V=r(),z=o("p"),H=s('It is the kind of tweet & LinkedIn messages that have exploded during those recent COVID-times. \n      Indeed, online services, especially meeting utilities or edtech programs, had to face a particularly sustained usage, enduring a unplanned and lasting peak load. \n      I\'ve seen only a few able to maintain an acceptable quality of service (at least, Slack and Zoom have shined with their professionnalism for what I could see), \n      the bigger part having to establish a connection queue for its clients, or even to shutdown their entire service for an endless "maintenance".'),W=r(),j=o("p"),U=s("Even being comprehensive, when facing an online service availability problem, we're very quick to change. \n      After all why shouldn't we benefit for the plethora of offering at our disposal? \n      And after the crisis has passed, it's highly expected that we'll see no reason to change, no reason to go back to the initial fancy startup product we were using at the origin.\n      For a startup that's a lot of clients lost, maybe enough to not be able to start the traction back. Terrible death for a business, another virus victim."),$=r(),F=o("p"),Y=s("But üßê"),Z=r(),_=o("ul"),Q=o("li"),K=o("strong"),J=s("Couldn't those businesses have anticipated more?"),X=r(),ee=o("li"),ae=o("strong"),te=s("Couldn't they have a stronger tech at the origin, exceptional event or not?"),oe=r(),re=o("li"),se=o("strong"),ie=s("Once facing the problem, couldn't they adapt better and faster?"),ne=r(),le=o("h1"),ce=o("a"),he=s("# The scaling maturity model"),ue=r(),pe=o("div"),fe=o("img"),ye=r(),me=o("p"),ve=s('First, I want to introduce what I will call a company "scaling maturity". \n      Scaling is the art of adapt (automatically of not) your tech stack to handle the incoming demand. \n      And to be fair '),be=o("strong"),we=s("Zoom and Slack"),Ee=s(" are far more mature companies than (for example) recently-born edtech startups."),Ie=o("br"),ke=s("\n      Let's analyze them using the scaling maturity model."),Te=r(),xe=o("p"),Se=o("strong"),Re=s("1 - Nominal usage load:"),Oe=s(" Slack or Zoom already had a big traffic before, the peak represents a smaller percentage of their total nominal traffic compared to a startup for which it is maybe 100 or 1000 times bigger than usual."),Ge=o("br"),Le=r(),Ne=o("strong"),qe=s("2 - product maturity:"),Ae=s(" They've had time to know the specificity of their usage, the way the data is accessed, their systems points of failure, etc..."),Pe=o("br"),De=r(),Ce=o("strong"),Be=s("3 - technical skills:"),Me=s(" They probably have a bigger and more experienced tech team."),Ve=r(),ze=o("p"),He=s("To synthetize, they know a lot about how their product is used and where they are going, and so know a lot about where to focus, and what kind of effort they need to do to adapt to the extra demand. Plus their current architecture can already sustain some load."),We=r(),je=o("p"),Ue=s("On the other side, young online services were just overflowed, calling for help, trying desperatly to find solutions to shard and replicate their existing relational databases (more on that later)."),$e=o("br"),Fe=s("\n      I'll take an hypothetical example of an "),Ye=o("strong"),Ze=s("edtech startup"),_e=s(" offering innovative online class services"),Qe=r(),Ke=o("p"),Je=o("strong"),Xe=s("1 - Nominal usage load:"),ea=s(" Some clients like what they do, it's the future, they believe in their capability to grow and propose more features with time. \n      So there is a light load for now and a steady growth expected, they've opted for several cheap OVH servers."),aa=o("br"),ta=r(),oa=o("strong"),ra=s("2 - product maturity:"),sa=s(" It's basically innovative education R&D so they have a very young product."),ia=o("br"),na=r(),la=o("strong"),ca=s("3 - technical skills:"),ha=s(" Interns, probably young employees, sometimes founder-made prototypes. At this point salaries weigh a lot..."),da=r(),ua=o("p"),pa=s("I'll make a preliminary conclusion to the first question: businesses couldn't have anticipated and even, for the smaller ones, wasn't expected to have...\n      Indeed, if one wants to design a product with \"infinite\" (or easy to add) scaling from scratch, this will cost him a lot of "),fa=o("strong"),ga=s("money and time"),ya=s(". \n      Two scarse resources you rationnaly prefer to invest in other things when you're a small business (finding product-market fit, adding features, growing, ...)"),ma=r(),va=o("blockquote"),ba=o("div"),wa=o("div"),Ea=o("img"),ka=r(),Ta=o("div"),xa=s("Covid19 is a very good example of a "),Sa=o("a"),Ra=s("black swan"),Oa=s(" event.\n        An event that is very rare, has massive implications, and so for which companies haven't planned for."),Ga=o("br"),La=s('\n        Indeed, this point is pretty obvious. We\'ll call it the "bird pause" üòâ'),Na=r(),qa=o("p"),Aa=s("I've recently talked with several young edtech companies looking urgently for solutions.\n      They were facing the same issue: their "),Pa=o("strong"),Da=s("relational database could not scale anymore"),Ca=s(" (mysql or postgres). \n      They were trying to add cache, pop new replica nodes, refactoring their apps and services, and their final blocker was the database...\n      The only remaining solution was to "),Ba=o("strong"),Ma=s("scale writes horizontally"),Va=s(" (to shard). So they were looking for some smart proxy solutions to put in front \n      allowing the database to scale seamlessly. Not that straightforward though... And not that cheap. "),za=o("br"),Ha=s("\n      And I don't even talk about managing the "),Wa=o("strong"),ja=s("migration"),Ua=s(" in that context!"),$a=o("br"),Fa=r(),Ya=o("p"),Za=s("To have an idea about how hard it is to shard an existing database I would say that the more "),_a=o("em"),Qa=s("complex and global"),Ka=s(" querying you have in place (like cross-accounts data aggregation)\n      the more "),Ja=o("em"),Xa=s("smart and expensive"),et=s(" the front proxy will have to be. It goes from a quite simple hash-distribution routing, to a very complex (and hard-to-scale too) query planner."),at=r(),tt=o("p"),ot=s("In light of the scaling maturity model, it's quite clear we can't blame them for not having the scaling mechanisms in place before, \n      but at least they could have planned better for their "),rt=o("strong"),st=s("next scaling step"),it=s("."),nt=r(),lt=o("h1"),ct=o("a"),ht=s("# Then... how to scale efficiently as a startup?"),ut=r(),pt=o("p"),ft=s('We can deconstruct first what is to be "scaled"'),gt=r(),yt=o("ul"),mt=o("li"),vt=o("strong"),bt=s("servers capacity"),wt=s(": costs will force you to dimension correctly their size (cpu / ram / storage). They could be physical, virtual, or containers."),Et=r(),It=o("li"),kt=o("strong"),Tt=s("data access patterns"),xt=s(": better know your usage, avoid shared state and global querying and prefer immutability."),St=r(),Rt=o("li"),Ot=o("strong"),Gt=s("human intervention & maintenance"),Lt=s(': "the more you automate, the faster you iterate" (Github, CI/CD, terraform, ...).'),Nt=r(),qt=o("li"),At=o("strong"),Pt=s("code refactoring"),Dt=s(": to scale ofter means pre-compute things, use smart caching, more synchronization, all of this has to be coded and maintained at some point."),Ct=r(),Bt=o("p"),Mt=o("em"),Vt=s("Note: if your product does not have any real traction yet, you probably shouldn't think about this at all for now, a good old MVC prototype with whatever tech you already know will do the job."),zt=r(),Ht=o("p"),Wt=s("If you already have some usage, and have a first idea of where your business is going, then there are several possibilities. \n    If you have at your disposal a strong technical founder, he probably already knows what to do.\n    Otherwise, especially if you did get some founding, it would be a good idea to get someone experimented enough helping you setup the infrastructure at the beginning."),jt=r(),Ut=o("p"),$t=s("Let's explore then two different strategies"),Ft=r(),Yt=o("h2"),Zt=s("The infinite scaling strategy"),_t=r(),Qt=o("p"),Kt=s("Well I prefer to immediately debunk the myth, it's theoretically possible to "),Jt=o("strong"),Xt=s("approach"),eo=s(" such an architecture but it will be very expensive, and possibly quite rigid."),ao=o("br"),to=s("\n      The key here would be to use a lot of high level managed services who run on giant cloud infrastructures. \n      The services choosen should be 100% dynamic, I mean scale transparently : you shouldn't have to manage any physical nodes directly.\n      They better have included and transparent replication (to scale reads) and sharding capabilities (to scale writes) and be able to be geographically dispatched in several regions on the planet."),oo=o("br"),ro=r(),so=o("p"),io=s("Here some managed services examples:"),no=r(),lo=o("ul"),co=o("li"),ho=s("Relational datastore: Google cloud spanner"),uo=r(),po=o("li"),fo=s("NoSQL real time sync datastore: Google firestore"),go=r(),yo=o("li"),mo=s("Replicated cache: AWS Elasticache"),vo=r(),bo=o("li"),wo=s("Distributed File storage: AWS S3"),Eo=r(),Io=o("li"),ko=s("Data streaming: Google pubsub"),To=r(),xo=o("li"),So=s("Columnar-storage (optimized for aggregation) Data lake: Google Bigquery"),Ro=r(),Oo=o("p"),Go=o("em"),Lo=s("Yes, that's a lot of GCP services, to be honest they are ahead..!"),No=r(),qo=o("div"),Ao=o("img"),Do=r(),Co=o("em"),Bo=s("Actually I have to nuance the curve a bit:"),Mo=r(),Vo=o("ul"),zo=o("li"),Ho=s("Price is actually super low at the very beginning: services often offer free plan for a limited volume or during a limited period"),Wo=r(),jo=o("li"),Uo=s("On the other side, costs can decrease when you reach a big volume because of degressive pricing, or by using provider specific cost optimization techniques"),$o=r(),Fo=o("h2"),Yo=s("The step by step scaling strategy"),Zo=r(),_o=o("div"),Qo=o("img"),Jo=r(),Xo=o("p"),er=s("This is the usual and probably the most efficient strategy, you do with what you have at first (skills, people, ...), but you always stay a step ahead, \n      you are conscious about what your system points of failure are, and how to resolve them. You plan carefully for \n      the next system migrations. This requires specifically:"),ar=r(),tr=o("ul"),or=o("li"),rr=s("To develop a strong "),sr=o("strong"),ir=s("monitoring and alerting pipeline"),nr=s(". You have plenty of tools to do that easily nowadays."),lr=r(),cr=o("li"),hr=s("To "),dr=o("strong"),ur=s("test every migration"),pr=s(" before. The more the system is distributed, the harder the problems will be predictable. It's easier to just test it."),fr=r(),gr=o("p"),yr=s("As examples, the scaling next step could be:"),mr=r(),vr=o("ul"),br=o("li"),wr=s("Shard the database or the streaming pipeline"),Er=r(),Ir=o("li"),kr=s("Introduce automatic scaling of your HTTP services"),Tr=r(),xr=o("li"),Sr=s("Refactor your application to isolate your data in silos, introduce some kind of load balancing, and replicate parts of your system"),Rr=r(),Or=o("p"),Gr=o("em"),Lr=s("Note: smart scaling is specific scaling, so every case has a different story..!"),Nr=r(),qr=o("p"),Ar=s("To conclude, the right solution probably lies in between the two strategies. It depends on your budget, the technical complexity of your product, and the skills you have at your disposal."),Pr=o("br"),Dr=s("\n      At least I hope you have now new ideas about how to better anticipate scale !"),Cr=r(),Br=o("br"),Mr=r(),Vr=o("p"),zr=o("strong"),Hr=s("Scale safe üëã"),Wr=o("br"),jr=s("\n      By the way if you have scaling needs / specific questions, "),Ur=o("a"),$r=s("I'd be happy to help"),Fr=r(),Yr=o("br"),Zr=r(),_r=o("div"),this.h()},l(a){const o=i('[data-svelte="svelte-as7c4a"]',document.head);t=n(o,"LINK",{rel:!0,href:!0}),m=n(o,"META",{property:!0,content:!0}),b=n(o,"META",{property:!0,content:!0}),w=n(o,"META",{name:!0,content:!0}),E=n(o,"META",{property:!0,content:!0}),I=n(o,"META",{property:!0,content:!0}),k=n(o,"META",{property:!0,content:!0}),o.forEach(l),T=c(a),x=n(a,"SECTION",{class:!0});var r=h(x);S=n(r,"DIV",{class:!0});var s=h(S);R=n(s,"DIV",{class:!0});var u=h(R);O=n(u,"DIV",{class:!0});var p=h(O);G=n(p,"H1",{class:!0,style:!0});var f=h(G);L=d(f,e[0]),f.forEach(l),N=c(p),q=n(p,"BLOCKQUOTE",{});var g=h(q);A=n(g,"UL",{});var y=h(A);P=n(y,"LI",{});var v=h(P);D=d(v,"\"It doesn't work at all, my children can't connect to the online class !\""),v.forEach(l),C=c(y),B=n(y,"LI",{});var de=h(B);M=d(de,"\"We're very sorry about that it's an exceptional situation, we're working on the problem with our tech team and will keep you posted.\""),de.forEach(l),y.forEach(l),g.forEach(l),V=c(p),z=n(p,"P",{});var ge=h(z);H=d(ge,'It is the kind of tweet & LinkedIn messages that have exploded during those recent COVID-times. \n      Indeed, online services, especially meeting utilities or edtech programs, had to face a particularly sustained usage, enduring a unplanned and lasting peak load. \n      I\'ve seen only a few able to maintain an acceptable quality of service (at least, Slack and Zoom have shined with their professionnalism for what I could see), \n      the bigger part having to establish a connection queue for its clients, or even to shutdown their entire service for an endless "maintenance".'),ge.forEach(l),W=c(p),j=n(p,"P",{});var Ia=h(j);U=d(Ia,"Even being comprehensive, when facing an online service availability problem, we're very quick to change. \n      After all why shouldn't we benefit for the plethora of offering at our disposal? \n      And after the crisis has passed, it's highly expected that we'll see no reason to change, no reason to go back to the initial fancy startup product we were using at the origin.\n      For a startup that's a lot of clients lost, maybe enough to not be able to start the traction back. Terrible death for a business, another virus victim."),Ia.forEach(l),$=c(p),F=n(p,"P",{});var dt=h(F);Y=d(dt,"But üßê"),dt.forEach(l),Z=c(p),_=n(p,"UL",{});var Po=h(_);Q=n(Po,"LI",{});var Ko=h(Q);K=n(Ko,"STRONG",{});var Qr=h(K);J=d(Qr,"Couldn't those businesses have anticipated more?"),Qr.forEach(l),Ko.forEach(l),X=c(Po),ee=n(Po,"LI",{});var Kr=h(ee);ae=n(Kr,"STRONG",{});var Jr=h(ae);te=d(Jr,"Couldn't they have a stronger tech at the origin, exceptional event or not?"),Jr.forEach(l),Kr.forEach(l),oe=c(Po),re=n(Po,"LI",{});var Xr=h(re);se=n(Xr,"STRONG",{});var es=h(se);ie=d(es,"Once facing the problem, couldn't they adapt better and faster?"),es.forEach(l),Xr.forEach(l),Po.forEach(l),ne=c(p),le=n(p,"H1",{class:!0});var as=h(le);ce=n(as,"A",{id:!0,href:!0});var ts=h(ce);he=d(ts,"# The scaling maturity model"),ts.forEach(l),as.forEach(l),ue=c(p),pe=n(p,"DIV",{style:!0});var os=h(pe);fe=n(os,"IMG",{src:!0,class:!0}),os.forEach(l),ye=c(p),me=n(p,"P",{});var rs=h(me);ve=d(rs,'First, I want to introduce what I will call a company "scaling maturity". \n      Scaling is the art of adapt (automatically of not) your tech stack to handle the incoming demand. \n      And to be fair '),be=n(rs,"STRONG",{});var ss=h(be);we=d(ss,"Zoom and Slack"),ss.forEach(l),Ee=d(rs," are far more mature companies than (for example) recently-born edtech startups."),Ie=n(rs,"BR",{}),ke=d(rs,"\n      Let's analyze them using the scaling maturity model."),rs.forEach(l),Te=c(p),xe=n(p,"P",{});var is=h(xe);Se=n(is,"STRONG",{});var ns=h(Se);Re=d(ns,"1 - Nominal usage load:"),ns.forEach(l),Oe=d(is," Slack or Zoom already had a big traffic before, the peak represents a smaller percentage of their total nominal traffic compared to a startup for which it is maybe 100 or 1000 times bigger than usual."),Ge=n(is,"BR",{}),Le=c(is),Ne=n(is,"STRONG",{});var ls=h(Ne);qe=d(ls,"2 - product maturity:"),ls.forEach(l),Ae=d(is," They've had time to know the specificity of their usage, the way the data is accessed, their systems points of failure, etc..."),Pe=n(is,"BR",{}),De=c(is),Ce=n(is,"STRONG",{});var cs=h(Ce);Be=d(cs,"3 - technical skills:"),cs.forEach(l),Me=d(is," They probably have a bigger and more experienced tech team."),is.forEach(l),Ve=c(p),ze=n(p,"P",{});var hs=h(ze);He=d(hs,"To synthetize, they know a lot about how their product is used and where they are going, and so know a lot about where to focus, and what kind of effort they need to do to adapt to the extra demand. Plus their current architecture can already sustain some load."),hs.forEach(l),We=c(p),je=n(p,"P",{});var ds=h(je);Ue=d(ds,"On the other side, young online services were just overflowed, calling for help, trying desperatly to find solutions to shard and replicate their existing relational databases (more on that later)."),$e=n(ds,"BR",{}),Fe=d(ds,"\n      I'll take an hypothetical example of an "),Ye=n(ds,"STRONG",{});var us=h(Ye);Ze=d(us,"edtech startup"),us.forEach(l),_e=d(ds," offering innovative online class services"),ds.forEach(l),Qe=c(p),Ke=n(p,"P",{});var ps=h(Ke);Je=n(ps,"STRONG",{});var fs=h(Je);Xe=d(fs,"1 - Nominal usage load:"),fs.forEach(l),ea=d(ps," Some clients like what they do, it's the future, they believe in their capability to grow and propose more features with time. \n      So there is a light load for now and a steady growth expected, they've opted for several cheap OVH servers."),aa=n(ps,"BR",{}),ta=c(ps),oa=n(ps,"STRONG",{});var gs=h(oa);ra=d(gs,"2 - product maturity:"),gs.forEach(l),sa=d(ps," It's basically innovative education R&D so they have a very young product."),ia=n(ps,"BR",{}),na=c(ps),la=n(ps,"STRONG",{});var ys=h(la);ca=d(ys,"3 - technical skills:"),ys.forEach(l),ha=d(ps," Interns, probably young employees, sometimes founder-made prototypes. At this point salaries weigh a lot..."),ps.forEach(l),da=c(p),ua=n(p,"P",{});var ms=h(ua);pa=d(ms,"I'll make a preliminary conclusion to the first question: businesses couldn't have anticipated and even, for the smaller ones, wasn't expected to have...\n      Indeed, if one wants to design a product with \"infinite\" (or easy to add) scaling from scratch, this will cost him a lot of "),fa=n(ms,"STRONG",{});var vs=h(fa);ga=d(vs,"money and time"),vs.forEach(l),ya=d(ms,". \n      Two scarse resources you rationnaly prefer to invest in other things when you're a small business (finding product-market fit, adding features, growing, ...)"),ms.forEach(l),ma=c(p),va=n(p,"BLOCKQUOTE",{});var bs=h(va);ba=n(bs,"DIV",{class:!0});var ws=h(ba);wa=n(ws,"DIV",{class:!0});var Es=h(wa);Ea=n(Es,"IMG",{alt:!0,src:!0}),Es.forEach(l),ka=c(ws),Ta=n(ws,"DIV",{class:!0});var Is=h(Ta);xa=d(Is,"Covid19 is a very good example of a "),Sa=n(Is,"A",{href:!0,target:!0});var ks=h(Sa);Ra=d(ks,"black swan"),ks.forEach(l),Oa=d(Is," event.\n        An event that is very rare, has massive implications, and so for which companies haven't planned for."),Ga=n(Is,"BR",{}),La=d(Is,'\n        Indeed, this point is pretty obvious. We\'ll call it the "bird pause" üòâ'),Is.forEach(l),ws.forEach(l),bs.forEach(l),Na=c(p),qa=n(p,"P",{});var Ts=h(qa);Aa=d(Ts,"I've recently talked with several young edtech companies looking urgently for solutions.\n      They were facing the same issue: their "),Pa=n(Ts,"STRONG",{});var xs=h(Pa);Da=d(xs,"relational database could not scale anymore"),xs.forEach(l),Ca=d(Ts," (mysql or postgres). \n      They were trying to add cache, pop new replica nodes, refactoring their apps and services, and their final blocker was the database...\n      The only remaining solution was to "),Ba=n(Ts,"STRONG",{});var Ss=h(Ba);Ma=d(Ss,"scale writes horizontally"),Ss.forEach(l),Va=d(Ts," (to shard). So they were looking for some smart proxy solutions to put in front \n      allowing the database to scale seamlessly. Not that straightforward though... And not that cheap. "),za=n(Ts,"BR",{}),Ha=d(Ts,"\n      And I don't even talk about managing the "),Wa=n(Ts,"STRONG",{});var Rs=h(Wa);ja=d(Rs,"migration"),Rs.forEach(l),Ua=d(Ts," in that context!"),$a=n(Ts,"BR",{}),Ts.forEach(l),Fa=c(p),Ya=n(p,"P",{});var Os=h(Ya);Za=d(Os,"To have an idea about how hard it is to shard an existing database I would say that the more "),_a=n(Os,"EM",{});var Gs=h(_a);Qa=d(Gs,"complex and global"),Gs.forEach(l),Ka=d(Os," querying you have in place (like cross-accounts data aggregation)\n      the more "),Ja=n(Os,"EM",{});var Ls=h(Ja);Xa=d(Ls,"smart and expensive"),Ls.forEach(l),et=d(Os," the front proxy will have to be. It goes from a quite simple hash-distribution routing, to a very complex (and hard-to-scale too) query planner."),Os.forEach(l),at=c(p),tt=n(p,"P",{});var Ns=h(tt);ot=d(Ns,"In light of the scaling maturity model, it's quite clear we can't blame them for not having the scaling mechanisms in place before, \n      but at least they could have planned better for their "),rt=n(Ns,"STRONG",{});var qs=h(rt);st=d(qs,"next scaling step"),qs.forEach(l),it=d(Ns,"."),Ns.forEach(l),nt=c(p),lt=n(p,"H1",{class:!0});var As=h(lt);ct=n(As,"A",{id:!0,href:!0});var Ps=h(ct);ht=d(Ps,"# Then... how to scale efficiently as a startup?"),Ps.forEach(l),As.forEach(l),ut=c(p),pt=n(p,"P",{});var Ds=h(pt);ft=d(Ds,'We can deconstruct first what is to be "scaled"'),Ds.forEach(l),gt=c(p),yt=n(p,"UL",{});var Cs=h(yt);mt=n(Cs,"LI",{});var Bs=h(mt);vt=n(Bs,"STRONG",{});var Ms=h(vt);bt=d(Ms,"servers capacity"),Ms.forEach(l),wt=d(Bs,": costs will force you to dimension correctly their size (cpu / ram / storage). They could be physical, virtual, or containers."),Bs.forEach(l),Et=c(Cs),It=n(Cs,"LI",{});var Vs=h(It);kt=n(Vs,"STRONG",{});var zs=h(kt);Tt=d(zs,"data access patterns"),zs.forEach(l),xt=d(Vs,": better know your usage, avoid shared state and global querying and prefer immutability."),Vs.forEach(l),St=c(Cs),Rt=n(Cs,"LI",{});var Hs=h(Rt);Ot=n(Hs,"STRONG",{});var Ws=h(Ot);Gt=d(Ws,"human intervention & maintenance"),Ws.forEach(l),Lt=d(Hs,': "the more you automate, the faster you iterate" (Github, CI/CD, terraform, ...).'),Hs.forEach(l),Nt=c(Cs),qt=n(Cs,"LI",{});var js=h(qt);At=n(js,"STRONG",{});var Us=h(At);Pt=d(Us,"code refactoring"),Us.forEach(l),Dt=d(js,": to scale ofter means pre-compute things, use smart caching, more synchronization, all of this has to be coded and maintained at some point."),js.forEach(l),Cs.forEach(l),Ct=c(p),Bt=n(p,"P",{});var $s=h(Bt);Mt=n($s,"EM",{});var Fs=h(Mt);Vt=d(Fs,"Note: if your product does not have any real traction yet, you probably shouldn't think about this at all for now, a good old MVC prototype with whatever tech you already know will do the job."),Fs.forEach(l),$s.forEach(l),zt=c(p),Ht=n(p,"P",{});var Ys=h(Ht);Wt=d(Ys,"If you already have some usage, and have a first idea of where your business is going, then there are several possibilities. \n    If you have at your disposal a strong technical founder, he probably already knows what to do.\n    Otherwise, especially if you did get some founding, it would be a good idea to get someone experimented enough helping you setup the infrastructure at the beginning."),Ys.forEach(l),jt=c(p),Ut=n(p,"P",{});var Zs=h(Ut);$t=d(Zs,"Let's explore then two different strategies"),Zs.forEach(l),Ft=c(p),Yt=n(p,"H2",{class:!0});var _s=h(Yt);Zt=d(_s,"The infinite scaling strategy"),_s.forEach(l),_t=c(p),Qt=n(p,"P",{});var Qs=h(Qt);Kt=d(Qs,"Well I prefer to immediately debunk the myth, it's theoretically possible to "),Jt=n(Qs,"STRONG",{});var Ks=h(Jt);Xt=d(Ks,"approach"),Ks.forEach(l),eo=d(Qs," such an architecture but it will be very expensive, and possibly quite rigid."),ao=n(Qs,"BR",{}),to=d(Qs,"\n      The key here would be to use a lot of high level managed services who run on giant cloud infrastructures. \n      The services choosen should be 100% dynamic, I mean scale transparently : you shouldn't have to manage any physical nodes directly.\n      They better have included and transparent replication (to scale reads) and sharding capabilities (to scale writes) and be able to be geographically dispatched in several regions on the planet."),oo=n(Qs,"BR",{}),Qs.forEach(l),ro=c(p),so=n(p,"P",{});var Js=h(so);io=d(Js,"Here some managed services examples:"),Js.forEach(l),no=c(p),lo=n(p,"UL",{});var Xs=h(lo);co=n(Xs,"LI",{});var ei=h(co);ho=d(ei,"Relational datastore: Google cloud spanner"),ei.forEach(l),uo=c(Xs),po=n(Xs,"LI",{});var ai=h(po);fo=d(ai,"NoSQL real time sync datastore: Google firestore"),ai.forEach(l),go=c(Xs),yo=n(Xs,"LI",{});var ti=h(yo);mo=d(ti,"Replicated cache: AWS Elasticache"),ti.forEach(l),vo=c(Xs),bo=n(Xs,"LI",{});var oi=h(bo);wo=d(oi,"Distributed File storage: AWS S3"),oi.forEach(l),Eo=c(Xs),Io=n(Xs,"LI",{});var ri=h(Io);ko=d(ri,"Data streaming: Google pubsub"),ri.forEach(l),To=c(Xs),xo=n(Xs,"LI",{});var si=h(xo);So=d(si,"Columnar-storage (optimized for aggregation) Data lake: Google Bigquery"),si.forEach(l),Xs.forEach(l),Ro=c(p),Oo=n(p,"P",{});var ii=h(Oo);Go=n(ii,"EM",{});var ni=h(Go);Lo=d(ni,"Yes, that's a lot of GCP services, to be honest they are ahead..!"),ni.forEach(l),ii.forEach(l),No=c(p),qo=n(p,"DIV",{style:!0});var li=h(qo);Ao=n(li,"IMG",{src:!0,class:!0}),li.forEach(l),Do=c(p),Co=n(p,"EM",{});var ci=h(Co);Bo=d(ci,"Actually I have to nuance the curve a bit:"),ci.forEach(l),Mo=c(p),Vo=n(p,"UL",{});var hi=h(Vo);zo=n(hi,"LI",{});var di=h(zo);Ho=d(di,"Price is actually super low at the very beginning: services often offer free plan for a limited volume or during a limited period"),di.forEach(l),Wo=c(hi),jo=n(hi,"LI",{});var ui=h(jo);Uo=d(ui,"On the other side, costs can decrease when you reach a big volume because of degressive pricing, or by using provider specific cost optimization techniques"),ui.forEach(l),hi.forEach(l),$o=c(p),Fo=n(p,"H2",{class:!0});var pi=h(Fo);Yo=d(pi,"The step by step scaling strategy"),pi.forEach(l),Zo=c(p),_o=n(p,"DIV",{style:!0});var fi=h(_o);Qo=n(fi,"IMG",{src:!0,class:!0}),fi.forEach(l),Jo=c(p),Xo=n(p,"P",{});var gi=h(Xo);er=d(gi,"This is the usual and probably the most efficient strategy, you do with what you have at first (skills, people, ...), but you always stay a step ahead, \n      you are conscious about what your system points of failure are, and how to resolve them. You plan carefully for \n      the next system migrations. This requires specifically:"),gi.forEach(l),ar=c(p),tr=n(p,"UL",{});var yi=h(tr);or=n(yi,"LI",{});var mi=h(or);rr=d(mi,"To develop a strong "),sr=n(mi,"STRONG",{});var vi=h(sr);ir=d(vi,"monitoring and alerting pipeline"),vi.forEach(l),nr=d(mi,". You have plenty of tools to do that easily nowadays."),mi.forEach(l),lr=c(yi),cr=n(yi,"LI",{});var bi=h(cr);hr=d(bi,"To "),dr=n(bi,"STRONG",{});var wi=h(dr);ur=d(wi,"test every migration"),wi.forEach(l),pr=d(bi," before. The more the system is distributed, the harder the problems will be predictable. It's easier to just test it."),bi.forEach(l),yi.forEach(l),fr=c(p),gr=n(p,"P",{});var Ei=h(gr);yr=d(Ei,"As examples, the scaling next step could be:"),Ei.forEach(l),mr=c(p),vr=n(p,"UL",{});var Ii=h(vr);br=n(Ii,"LI",{});var ki=h(br);wr=d(ki,"Shard the database or the streaming pipeline"),ki.forEach(l),Er=c(Ii),Ir=n(Ii,"LI",{});var Ti=h(Ir);kr=d(Ti,"Introduce automatic scaling of your HTTP services"),Ti.forEach(l),Tr=c(Ii),xr=n(Ii,"LI",{});var xi=h(xr);Sr=d(xi,"Refactor your application to isolate your data in silos, introduce some kind of load balancing, and replicate parts of your system"),xi.forEach(l),Ii.forEach(l),Rr=c(p),Or=n(p,"P",{});var Si=h(Or);Gr=n(Si,"EM",{});var Ri=h(Gr);Lr=d(Ri,"Note: smart scaling is specific scaling, so every case has a different story..!"),Ri.forEach(l),Si.forEach(l),Nr=c(p),qr=n(p,"P",{});var Oi=h(qr);Ar=d(Oi,"To conclude, the right solution probably lies in between the two strategies. It depends on your budget, the technical complexity of your product, and the skills you have at your disposal."),Pr=n(Oi,"BR",{}),Dr=d(Oi,"\n      At least I hope you have now new ideas about how to better anticipate scale !"),Oi.forEach(l),Cr=c(p),Br=n(p,"BR",{}),Mr=c(p),Vr=n(p,"P",{});var Gi=h(Vr);zr=n(Gi,"STRONG",{});var Li=h(zr);Hr=d(Li,"Scale safe üëã"),Li.forEach(l),Wr=n(Gi,"BR",{}),jr=d(Gi,"\n      By the way if you have scaling needs / specific questions, "),Ur=n(Gi,"A",{href:!0});var Ni=h(Ur);$r=d(Ni,"I'd be happy to help"),Ni.forEach(l),Gi.forEach(l),Fr=c(p),Yr=n(p,"BR",{}),Zr=c(p),_r=n(p,"DIV",{id:!0}),h(_r).forEach(l),p.forEach(l),u.forEach(l),s.forEach(l),r.forEach(l),this.h()},h(){u(t,"rel","canonical"),u(t,"href",e[3]),u(m,"property","og:title"),u(m,"content",v="@cyppan | "+e[0]),u(b,"property","og:locale"),u(b,"content","en_US"),u(w,"name","description"),u(w,"content",e[1]),u(E,"property","og:description"),u(E,"content",e[1]),u(I,"property","og:url"),u(I,"content",e[3]),u(k,"property","og:site_name"),u(k,"content","@cyppan"),u(G,"class","title is-2"),p(G,"text-align","center"),u(ce,"id","scaling-maturity-model"),u(ce,"href",de=e[2]+"#scaling-maturity-model"),u(le,"class","title is-3 svelte-1ou6gkp"),fe.src!==(ge="/scaling-maturity.png")&&u(fe,"src","/scaling-maturity.png"),u(fe,"class","is-center"),p(pe,"text-align","center"),u(Ea,"alt","black swan Image by Holger Detje from Pixabay"),Ea.src!==(Ia="/black-swan.jpg")&&u(Ea,"src","/black-swan.jpg"),u(wa,"class","column is-one-quarter"),u(Sa,"href","https://en.wikipedia.org/wiki/Black_swan_theory"),u(Sa,"target","_blank"),u(Ta,"class","column"),u(ba,"class","columns"),u(ct,"id","scale-efficiently"),u(ct,"href",dt=e[2]+"#scale-efficiently"),u(lt,"class","title is-3 svelte-1ou6gkp"),u(Yt,"class","subtitle is-4 svelte-1ou6gkp"),Ao.src!==(Po="/dynamic-scaling-curve.png")&&u(Ao,"src","/dynamic-scaling-curve.png"),u(Ao,"class","is-center"),p(qo,"text-align","center"),u(Fo,"class","subtitle is-4 svelte-1ou6gkp"),Qo.src!==(Ko="/static-scaling-curve.png")&&u(Qo,"src","/static-scaling-curve.png"),u(Qo,"class","is-center"),p(_o,"text-align","center"),u(Ur,"href","/"),u(_r,"id","disqus_thread"),u(O,"class","container content svelte-1ou6gkp"),u(R,"class","box"),u(S,"class","container svelte-1ou6gkp"),u(x,"class","section")},m(e,a){f(document.head,t),f(document.head,m),f(document.head,b),f(document.head,w),f(document.head,E),f(document.head,I),f(document.head,k),g(e,T,a),g(e,x,a),f(x,S),f(S,R),f(R,O),f(O,G),f(G,L),f(O,N),f(O,q),f(q,A),f(A,P),f(P,D),f(A,C),f(A,B),f(B,M),f(O,V),f(O,z),f(z,H),f(O,W),f(O,j),f(j,U),f(O,$),f(O,F),f(F,Y),f(O,Z),f(O,_),f(_,Q),f(Q,K),f(K,J),f(_,X),f(_,ee),f(ee,ae),f(ae,te),f(_,oe),f(_,re),f(re,se),f(se,ie),f(O,ne),f(O,le),f(le,ce),f(ce,he),f(O,ue),f(O,pe),f(pe,fe),f(O,ye),f(O,me),f(me,ve),f(me,be),f(be,we),f(me,Ee),f(me,Ie),f(me,ke),f(O,Te),f(O,xe),f(xe,Se),f(Se,Re),f(xe,Oe),f(xe,Ge),f(xe,Le),f(xe,Ne),f(Ne,qe),f(xe,Ae),f(xe,Pe),f(xe,De),f(xe,Ce),f(Ce,Be),f(xe,Me),f(O,Ve),f(O,ze),f(ze,He),f(O,We),f(O,je),f(je,Ue),f(je,$e),f(je,Fe),f(je,Ye),f(Ye,Ze),f(je,_e),f(O,Qe),f(O,Ke),f(Ke,Je),f(Je,Xe),f(Ke,ea),f(Ke,aa),f(Ke,ta),f(Ke,oa),f(oa,ra),f(Ke,sa),f(Ke,ia),f(Ke,na),f(Ke,la),f(la,ca),f(Ke,ha),f(O,da),f(O,ua),f(ua,pa),f(ua,fa),f(fa,ga),f(ua,ya),f(O,ma),f(O,va),f(va,ba),f(ba,wa),f(wa,Ea),f(ba,ka),f(ba,Ta),f(Ta,xa),f(Ta,Sa),f(Sa,Ra),f(Ta,Oa),f(Ta,Ga),f(Ta,La),f(O,Na),f(O,qa),f(qa,Aa),f(qa,Pa),f(Pa,Da),f(qa,Ca),f(qa,Ba),f(Ba,Ma),f(qa,Va),f(qa,za),f(qa,Ha),f(qa,Wa),f(Wa,ja),f(qa,Ua),f(qa,$a),f(O,Fa),f(O,Ya),f(Ya,Za),f(Ya,_a),f(_a,Qa),f(Ya,Ka),f(Ya,Ja),f(Ja,Xa),f(Ya,et),f(O,at),f(O,tt),f(tt,ot),f(tt,rt),f(rt,st),f(tt,it),f(O,nt),f(O,lt),f(lt,ct),f(ct,ht),f(O,ut),f(O,pt),f(pt,ft),f(O,gt),f(O,yt),f(yt,mt),f(mt,vt),f(vt,bt),f(mt,wt),f(yt,Et),f(yt,It),f(It,kt),f(kt,Tt),f(It,xt),f(yt,St),f(yt,Rt),f(Rt,Ot),f(Ot,Gt),f(Rt,Lt),f(yt,Nt),f(yt,qt),f(qt,At),f(At,Pt),f(qt,Dt),f(O,Ct),f(O,Bt),f(Bt,Mt),f(Mt,Vt),f(O,zt),f(O,Ht),f(Ht,Wt),f(O,jt),f(O,Ut),f(Ut,$t),f(O,Ft),f(O,Yt),f(Yt,Zt),f(O,_t),f(O,Qt),f(Qt,Kt),f(Qt,Jt),f(Jt,Xt),f(Qt,eo),f(Qt,ao),f(Qt,to),f(Qt,oo),f(O,ro),f(O,so),f(so,io),f(O,no),f(O,lo),f(lo,co),f(co,ho),f(lo,uo),f(lo,po),f(po,fo),f(lo,go),f(lo,yo),f(yo,mo),f(lo,vo),f(lo,bo),f(bo,wo),f(lo,Eo),f(lo,Io),f(Io,ko),f(lo,To),f(lo,xo),f(xo,So),f(O,Ro),f(O,Oo),f(Oo,Go),f(Go,Lo),f(O,No),f(O,qo),f(qo,Ao),f(O,Do),f(O,Co),f(Co,Bo),f(O,Mo),f(O,Vo),f(Vo,zo),f(zo,Ho),f(Vo,Wo),f(Vo,jo),f(jo,Uo),f(O,$o),f(O,Fo),f(Fo,Yo),f(O,Zo),f(O,_o),f(_o,Qo),f(O,Jo),f(O,Xo),f(Xo,er),f(O,ar),f(O,tr),f(tr,or),f(or,rr),f(or,sr),f(sr,ir),f(or,nr),f(tr,lr),f(tr,cr),f(cr,hr),f(cr,dr),f(dr,ur),f(cr,pr),f(O,fr),f(O,gr),f(gr,yr),f(O,mr),f(O,vr),f(vr,br),f(br,wr),f(vr,Er),f(vr,Ir),f(Ir,kr),f(vr,Tr),f(vr,xr),f(xr,Sr),f(O,Rr),f(O,Or),f(Or,Gr),f(Gr,Lr),f(O,Nr),f(O,qr),f(qr,Ar),f(qr,Pr),f(qr,Dr),f(O,Cr),f(O,Br),f(O,Mr),f(O,Vr),f(Vr,zr),f(zr,Hr),f(Vr,Wr),f(Vr,jr),f(Vr,Ur),f(Ur,$r),f(O,Fr),f(O,Yr),f(O,Zr),f(O,_r)},p(e,[t]){1&t&&a!==(a="\n    @cyppan | "+e[0]+"\n  ")&&(document.title=a)},i:y,o:y,d(e){l(t),l(m),l(b),l(w),l(E),l(I),l(k),e&&l(T),e&&l(x)}}}function v(e,a,t){const o="/blog/en/2020-04-01-covid-19-scaling-stories-how-startups-failed";return["COVID-19 scaling stories: how startups failed","During COVID-19, online services, especially meeting utilities or edtech programs, had to face a particularly sustained usage, enduring a unplanned and lasting peak load recently. Couldn't those businesses have anticipated more? Couldn't they have a stronger tech at the origin, exceptional event or not?",o,"https://cyppan.me/blog/en/2020-04-01-covid-19-scaling-stories-how-startups-failed"]}export default class extends e{constructor(e){super(),a(this,e,v,m,t,{title:0,description:1,path:2,url:3})}get title(){return this.$$.ctx[0]}get description(){return this.$$.ctx[1]}get path(){return this.$$.ctx[2]}get url(){return this.$$.ctx[3]}}
