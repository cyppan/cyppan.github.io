import{_ as e,a,i as t,s as o,b as r,c as n,S as i,e as s,d as l,t as c,q as h,f as d,j as u,h as p,g as f,n as y,k as g,o as m,m as v,l as b,r as w,u as E,y as k,z as I}from"./client.a8294400.js";function T(e){return function(){var a,t=k(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var o=k(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return I(this,a)}}function x(e){var a,t,o,r,n,i,k,I,T,x,S,R,O,G,L,N,q,A,P,D,B,C,M,V,z,H,W,j,U,$,_,F,Y,Z,Q,K,J,X,ee,ae,te,oe,re,ne,ie,se,le,ce,he,de,ue,pe,fe,ye,ge,me,ve,be,we,Ee,ke,Ie,Te,xe,Se,Re,Oe,Ge,Le,Ne,qe,Ae,Pe,De,Be,Ce,Me,Ve,ze,He,We,je,Ue,$e,_e,Fe,Ye,Ze,Qe,Ke,Je,Xe,ea,aa,ta,oa,ra,na,ia,sa,la,ca,ha,da,ua,pa,fa,ya,ga,ma,va,ba,wa,Ea,ka,Ia,Ta,xa,Sa,Ra,Oa,Ga,La,Na,qa,Aa,Pa,Da,Ba,Ca,Ma,Va,za,Ha,Wa,ja,Ua,$a,_a,Fa,Ya,Za,Qa,Ka,Ja,Xa,et,at,tt,ot,rt,nt,it,st,lt,ct,ht,dt,ut,pt,ft,yt,gt,mt,vt,bt,wt,Et,kt,It,Tt,xt,St,Rt,Ot,Gt,Lt,Nt,qt,At,Pt,Dt,Bt,Ct,Mt,Vt,zt,Ht,Wt,jt,Ut,$t,_t,Ft,Yt,Zt,Qt,Kt,Jt,Xt,eo,ao,to,oo,ro,no,io,so,lo,co,ho,uo,po,fo,yo,go,mo,vo,bo,wo,Eo,ko,Io,To,xo,So,Ro,Oo,Go,Lo,No,qo,Ao,Po,Do,Bo,Co,Mo,Vo,zo,Ho,Wo,jo,Uo,$o,_o,Fo,Yo,Zo,Qo,Ko,Jo,Xo,er,ar,tr,or,rr,nr,ir,sr,lr,cr,hr,dr,ur,pr,fr,yr,gr,mr,vr,br,wr,Er,kr,Ir,Tr,xr,Sr,Rr,Or,Gr,Lr,Nr,qr,Ar,Pr,Dr,Br,Cr,Mr,Vr,zr,Hr,Wr,jr;return document.title=a="\n    @cyppan | "+e[0]+"\n  ",{c:function(){t=s("link"),o=s("meta"),r=s("meta"),n=s("meta"),i=s("meta"),k=s("meta"),I=s("meta"),T=l(),x=s("section"),S=s("div"),R=s("div"),O=s("div"),G=s("h1"),L=c(e[0]),N=l(),q=s("blockquote"),A=s("ul"),P=s("li"),D=c("\"It doesn't work at all, my children can't connect to the online class !\""),B=l(),C=s("li"),M=c("\"We're very sorry about that it's an exceptional situation, we're working on the problem with our tech team and will keep you posted.\""),V=l(),z=s("p"),H=c('It is the kind of tweet & LinkedIn messages that have exploded during those recent COVID-times. \n      Indeed, online services, especially meeting utilities or edtech programs, had to face a particularly sustained usage, enduring a unplanned and lasting peak load. \n      I\'ve seen only a few able to maintain an acceptable quality of service (at least, Slack and Zoom have shined with their professionnalism for what I could see), \n      the bigger part having to establish a connection queue for its clients, or even to shutdown their entire service for an endless "maintenance".'),W=l(),j=s("p"),U=c("Even being comprehensive, when facing an online service availability problem, we're very quick to change. \n      After all why shouldn't we benefit for the plethora of offering at our disposal? \n      And after the crisis has passed, it's highly expected that we'll see no reason to change, no reason to go back to the initial fancy startup product we were using at the origin.\n      For a startup that's a lot of clients lost, maybe enough to not be able to start the traction back. Terrible death for a business, another virus victim."),$=l(),_=s("p"),F=c("But üßê"),Y=l(),Z=s("ul"),Q=s("li"),K=s("strong"),J=c("Couldn't those businesses have anticipated more?"),X=l(),ee=s("li"),ae=s("strong"),te=c("Couldn't they have a stronger tech at the origin, exceptional event or not?"),oe=l(),re=s("li"),ne=s("strong"),ie=c("Once facing the problem, couldn't they adapt better and faster?"),se=l(),le=s("h1"),ce=s("a"),he=c("# The scaling maturity model"),de=l(),ue=s("div"),pe=s("img"),fe=l(),ye=s("p"),ge=c('First, I want to introduce what I will call a company "scaling maturity". \n      Scaling is the art of adapt (automatically of not) your tech stack to handle the incoming demand. \n      And to be fair '),me=s("strong"),ve=c("Zoom and Slack"),be=c(" are far more mature companies than (for example) recently-born edtech startups."),we=s("br"),Ee=c("\n      Let's analyze them using the scaling maturity model."),ke=l(),Ie=s("p"),Te=s("strong"),xe=c("1 - Nominal usage load:"),Se=c(" Slack or Zoom already had a big traffic before, the peak represents a smaller percentage of their total nominal traffic compared to a startup for which it is maybe 100 or 1000 times bigger than usual."),Re=s("br"),Oe=l(),Ge=s("strong"),Le=c("2 - product maturity:"),Ne=c(" They've had time to know the specificity of their usage, the way the data is accessed, their systems points of failure, etc..."),qe=s("br"),Ae=l(),Pe=s("strong"),De=c("3 - technical skills:"),Be=c(" They probably have a bigger and more experienced tech team."),Ce=l(),Me=s("p"),Ve=c("To synthetize, they know a lot about how their product is used and where they are going, and so know a lot about where to focus, and what kind of effort they need to do to adapt to the extra demand. Plus their current architecture can already sustain some load."),ze=l(),He=s("p"),We=c("On the other side, young online services were just overflowed, calling for help, trying desperatly to find solutions to shard and replicate their existing relational databases (more on that later)."),je=s("br"),Ue=c("\n      I'll take an hypothetical example of an "),$e=s("strong"),_e=c("edtech startup"),Fe=c(" offering innovative online class services"),Ye=l(),Ze=s("p"),Qe=s("strong"),Ke=c("1 - Nominal usage load:"),Je=c(" Some clients like what they do, it's the future, they believe in their capability to grow and propose more features with time. \n      So there is a light load for now and a steady growth expected, they've opted for several cheap OVH servers."),Xe=s("br"),ea=l(),aa=s("strong"),ta=c("2 - product maturity:"),oa=c(" It's basically innovative education R&D so they have a very young product."),ra=s("br"),na=l(),ia=s("strong"),sa=c("3 - technical skills:"),la=c(" Interns, probably young employees, sometimes founder-made prototypes. At this point salaries weigh a lot..."),ca=l(),ha=s("p"),da=c("I'll make a preliminary conclusion to the first question: businesses couldn't have anticipated and even, for the smaller ones, wasn't expected to have...\n      Indeed, if one wants to design a product with \"infinite\" (or easy to add) scaling from scratch, this will cost him a lot of "),ua=s("strong"),pa=c("money and time"),fa=c(". \n      Two scarse resources you rationnaly prefer to invest in other things when you're a small business (finding product-market fit, adding features, growing, ...)"),ya=l(),ga=s("blockquote"),ma=s("div"),va=s("div"),ba=s("img"),wa=l(),Ea=s("div"),ka=c("Covid-19 is a very good example of a "),Ia=s("a"),Ta=c("black swan"),xa=c(" event.\n        An event that is very rare, has massive implications, and so for which companies haven't planned for."),Sa=s("br"),Ra=c('\n        Indeed, this point is pretty obvious. We\'ll call it the "bird pause" üòâ'),Oa=l(),Ga=s("p"),La=c("I've recently talked with several young edtech companies looking urgently for solutions.\n      They were facing the same issue: their "),Na=s("strong"),qa=c("relational database could not scale anymore"),Aa=c(" (mysql or postgres). \n      They were trying to add cache, pop new replica nodes, refactoring their apps and services, and their final blocker was the database...\n      The only remaining solution was to "),Pa=s("strong"),Da=c("scale writes horizontally"),Ba=c(" (to shard). So they were looking for some smart proxy solutions to put in front \n      allowing the database to scale seamlessly. Not that straightforward though... And not that cheap. "),Ca=s("br"),Ma=c("\n      And I don't even talk about managing the "),Va=s("strong"),za=c("migration"),Ha=c(" in that context!"),Wa=s("br"),ja=l(),Ua=s("p"),$a=c("To have an idea about how hard it is to shard an existing database I would say that the more "),_a=s("em"),Fa=c("complex and global"),Ya=c(" querying you have in place (like cross-accounts data aggregation)\n      the more "),Za=s("em"),Qa=c("smart and expensive"),Ka=c(" the front proxy will have to be. It goes from a quite simple hash-distribution routing, to a very complex (and hard-to-scale too) query planner."),Ja=l(),Xa=s("p"),et=c("In light of the scaling maturity model, it's quite clear we can't blame them for not having the scaling mechanisms in place before, \n      but at least they could have planned better for their "),at=s("strong"),tt=c("next scaling step"),ot=c("."),rt=l(),nt=s("h1"),it=s("a"),st=c("# Then... how to scale efficiently as a startup?"),lt=l(),ct=s("p"),ht=c('We can deconstruct first what is to be "scaled"'),dt=l(),ut=s("ul"),pt=s("li"),ft=s("strong"),yt=c("servers capacity"),gt=c(": costs will force you to dimension correctly their size (cpu / ram / storage). They could be physical, virtual, or containers."),mt=l(),vt=s("li"),bt=s("strong"),wt=c("data access patterns"),Et=c(": better know your usage, avoid shared state and global querying and prefer immutability."),kt=l(),It=s("li"),Tt=s("strong"),xt=c("human intervention & maintenance"),St=c(': "the more you automate, the faster you iterate" (Github, CI/CD, terraform, ...).'),Rt=l(),Ot=s("li"),Gt=s("strong"),Lt=c("code refactoring"),Nt=c(": to scale ofter means pre-compute things, use smart caching, more synchronization, all of this has to be coded and maintained at some point."),qt=l(),At=s("p"),Pt=s("em"),Dt=c("Note: if your product does not have any real traction yet, you probably shouldn't think about this at all for now, a good old MVC prototype with whatever tech you already know will do the job."),Bt=l(),Ct=s("p"),Mt=c("If you already have some usage, and have a first idea of where your business is going, then there are several possibilities. \n    If you have at your disposal a strong technical founder, he probably already knows what to do.\n    Otherwise, especially if you did get some founding, it would be a good idea to get someone experimented enough helping you setup the infrastructure at the beginning."),Vt=l(),zt=s("p"),Ht=c("Let's explore then two different strategies"),Wt=l(),jt=s("h2"),Ut=c("The infinite scaling strategy"),$t=l(),_t=s("p"),Ft=c("Well I prefer to immediately debunk the myth, it's theoretically possible to "),Yt=s("strong"),Zt=c("approach"),Qt=c(" such an architecture but it will be very expensive, and possibly quite rigid."),Kt=s("br"),Jt=c("\n      The key here would be to use a lot of high level managed services who run on giant cloud infrastructures. \n      The services choosen should be 100% dynamic, I mean scale transparently : you shouldn't have to manage any physical nodes directly.\n      They better have included and transparent replication (to scale reads) and sharding capabilities (to scale writes) and be able to be geographically dispatched in several regions on the planet."),Xt=s("br"),eo=l(),ao=s("p"),to=c("Here some managed services examples:"),oo=l(),ro=s("ul"),no=s("li"),io=c("Relational datastore: Google cloud spanner"),so=l(),lo=s("li"),co=c("NoSQL real time sync datastore: Google firestore"),ho=l(),uo=s("li"),po=c("Replicated cache: AWS Elasticache"),fo=l(),yo=s("li"),go=c("Distributed File storage: AWS S3"),mo=l(),vo=s("li"),bo=c("Data streaming: Google pubsub"),wo=l(),Eo=s("li"),ko=c("Columnar-storage (optimized for aggregation) Data lake: Google Bigquery"),Io=l(),To=s("p"),xo=s("em"),So=c("Yes, that's a lot of GCP services, to be honest they are ahead..!"),Ro=l(),Oo=s("div"),Go=s("img"),Lo=l(),No=s("em"),qo=c("Actually I have to nuance the curve a bit:"),Ao=l(),Po=s("ul"),Do=s("li"),Bo=c("Price is actually super low at the very beginning: services often offer free plan for a limited volume or during a limited period"),Co=l(),Mo=s("li"),Vo=c("On the other side, costs can decrease when you reach a big volume because of degressive pricing, or by using provider specific cost optimization techniques"),zo=l(),Ho=s("h2"),Wo=c("The step by step scaling strategy"),jo=l(),Uo=s("div"),$o=s("img"),_o=l(),Fo=s("p"),Yo=c("This is the usual and probably the most efficient strategy, you do with what you have at first (skills, people, ...), but you always stay a step ahead, \n      you are conscious about what your system points of failure are, and how to resolve them. You plan carefully for \n      the next system migrations. This requires specifically:"),Zo=l(),Qo=s("ul"),Ko=s("li"),Jo=c("To develop a strong "),Xo=s("strong"),er=c("monitoring and alerting pipeline"),ar=c(". You have plenty of tools to do that easily nowadays."),tr=l(),or=s("li"),rr=c("To "),nr=s("strong"),ir=c("test every migration"),sr=c(" before. The more the system is distributed, the harder the problems will be predictable. It's easier to just test it."),lr=l(),cr=s("p"),hr=c("As examples, the scaling next step could be:"),dr=l(),ur=s("ul"),pr=s("li"),fr=c("Shard the database or the streaming pipeline"),yr=l(),gr=s("li"),mr=c("Introduce automatic scaling of your HTTP services"),vr=l(),br=s("li"),wr=c("Refactor your application to isolate your data in silos, introduce some kind of load balancing, and replicate parts of your system"),Er=l(),kr=s("p"),Ir=s("em"),Tr=c("Note: smart scaling is specific scaling, so every case has a different story..!"),xr=l(),Sr=s("p"),Rr=c("To conclude, the right solution probably lies in between the two strategies. It depends on your budget, the technical complexity of your product, and the skills you have at your disposal."),Or=s("br"),Gr=c("\n      At least I hope you have now new ideas about how to better anticipate scale !"),Lr=l(),Nr=s("br"),qr=l(),Ar=s("p"),Pr=s("strong"),Dr=c("Scale safe üëã"),Br=s("br"),Cr=c("\n      By the way if you have scaling needs / specific questions, "),Mr=s("a"),Vr=c("I'd be happy to help"),zr=l(),Hr=s("br"),Wr=l(),jr=s("div"),this.h()},l:function(a){var s=h('[data-svelte="svelte-as7c4a"]',document.head);t=d(s,"LINK",{rel:!0,href:!0}),o=d(s,"META",{property:!0,content:!0}),r=d(s,"META",{property:!0,content:!0}),n=d(s,"META",{name:!0,content:!0}),i=d(s,"META",{property:!0,content:!0}),k=d(s,"META",{property:!0,content:!0}),I=d(s,"META",{property:!0,content:!0}),s.forEach(u),T=p(a),x=d(a,"SECTION",{class:!0});var l=f(x);S=d(l,"DIV",{class:!0});var c=f(S);R=d(c,"DIV",{class:!0});var g=f(R);O=d(g,"DIV",{class:!0});var m=f(O);G=d(m,"H1",{class:!0,style:!0});var v=f(G);L=y(v,e[0]),v.forEach(u),N=p(m),q=d(m,"BLOCKQUOTE",{});var b=f(q);A=d(b,"UL",{});var w=f(A);P=d(w,"LI",{});var E=f(P);D=y(E,"\"It doesn't work at all, my children can't connect to the online class !\""),E.forEach(u),B=p(w),C=d(w,"LI",{});var Ur=f(C);M=y(Ur,"\"We're very sorry about that it's an exceptional situation, we're working on the problem with our tech team and will keep you posted.\""),Ur.forEach(u),w.forEach(u),b.forEach(u),V=p(m),z=d(m,"P",{});var $r=f(z);H=y($r,'It is the kind of tweet & LinkedIn messages that have exploded during those recent COVID-times. \n      Indeed, online services, especially meeting utilities or edtech programs, had to face a particularly sustained usage, enduring a unplanned and lasting peak load. \n      I\'ve seen only a few able to maintain an acceptable quality of service (at least, Slack and Zoom have shined with their professionnalism for what I could see), \n      the bigger part having to establish a connection queue for its clients, or even to shutdown their entire service for an endless "maintenance".'),$r.forEach(u),W=p(m),j=d(m,"P",{});var _r=f(j);U=y(_r,"Even being comprehensive, when facing an online service availability problem, we're very quick to change. \n      After all why shouldn't we benefit for the plethora of offering at our disposal? \n      And after the crisis has passed, it's highly expected that we'll see no reason to change, no reason to go back to the initial fancy startup product we were using at the origin.\n      For a startup that's a lot of clients lost, maybe enough to not be able to start the traction back. Terrible death for a business, another virus victim."),_r.forEach(u),$=p(m),_=d(m,"P",{});var Fr=f(_);F=y(Fr,"But üßê"),Fr.forEach(u),Y=p(m),Z=d(m,"UL",{});var Yr=f(Z);Q=d(Yr,"LI",{});var Zr=f(Q);K=d(Zr,"STRONG",{});var Qr=f(K);J=y(Qr,"Couldn't those businesses have anticipated more?"),Qr.forEach(u),Zr.forEach(u),X=p(Yr),ee=d(Yr,"LI",{});var Kr=f(ee);ae=d(Kr,"STRONG",{});var Jr=f(ae);te=y(Jr,"Couldn't they have a stronger tech at the origin, exceptional event or not?"),Jr.forEach(u),Kr.forEach(u),oe=p(Yr),re=d(Yr,"LI",{});var Xr=f(re);ne=d(Xr,"STRONG",{});var en=f(ne);ie=y(en,"Once facing the problem, couldn't they adapt better and faster?"),en.forEach(u),Xr.forEach(u),Yr.forEach(u),se=p(m),le=d(m,"H1",{class:!0});var an=f(le);ce=d(an,"A",{id:!0,href:!0});var tn=f(ce);he=y(tn,"# The scaling maturity model"),tn.forEach(u),an.forEach(u),de=p(m),ue=d(m,"DIV",{style:!0});var on=f(ue);pe=d(on,"IMG",{src:!0,class:!0}),on.forEach(u),fe=p(m),ye=d(m,"P",{});var rn=f(ye);ge=y(rn,'First, I want to introduce what I will call a company "scaling maturity". \n      Scaling is the art of adapt (automatically of not) your tech stack to handle the incoming demand. \n      And to be fair '),me=d(rn,"STRONG",{});var nn=f(me);ve=y(nn,"Zoom and Slack"),nn.forEach(u),be=y(rn," are far more mature companies than (for example) recently-born edtech startups."),we=d(rn,"BR",{}),Ee=y(rn,"\n      Let's analyze them using the scaling maturity model."),rn.forEach(u),ke=p(m),Ie=d(m,"P",{});var sn=f(Ie);Te=d(sn,"STRONG",{});var ln=f(Te);xe=y(ln,"1 - Nominal usage load:"),ln.forEach(u),Se=y(sn," Slack or Zoom already had a big traffic before, the peak represents a smaller percentage of their total nominal traffic compared to a startup for which it is maybe 100 or 1000 times bigger than usual."),Re=d(sn,"BR",{}),Oe=p(sn),Ge=d(sn,"STRONG",{});var cn=f(Ge);Le=y(cn,"2 - product maturity:"),cn.forEach(u),Ne=y(sn," They've had time to know the specificity of their usage, the way the data is accessed, their systems points of failure, etc..."),qe=d(sn,"BR",{}),Ae=p(sn),Pe=d(sn,"STRONG",{});var hn=f(Pe);De=y(hn,"3 - technical skills:"),hn.forEach(u),Be=y(sn," They probably have a bigger and more experienced tech team."),sn.forEach(u),Ce=p(m),Me=d(m,"P",{});var dn=f(Me);Ve=y(dn,"To synthetize, they know a lot about how their product is used and where they are going, and so know a lot about where to focus, and what kind of effort they need to do to adapt to the extra demand. Plus their current architecture can already sustain some load."),dn.forEach(u),ze=p(m),He=d(m,"P",{});var un=f(He);We=y(un,"On the other side, young online services were just overflowed, calling for help, trying desperatly to find solutions to shard and replicate their existing relational databases (more on that later)."),je=d(un,"BR",{}),Ue=y(un,"\n      I'll take an hypothetical example of an "),$e=d(un,"STRONG",{});var pn=f($e);_e=y(pn,"edtech startup"),pn.forEach(u),Fe=y(un," offering innovative online class services"),un.forEach(u),Ye=p(m),Ze=d(m,"P",{});var fn=f(Ze);Qe=d(fn,"STRONG",{});var yn=f(Qe);Ke=y(yn,"1 - Nominal usage load:"),yn.forEach(u),Je=y(fn," Some clients like what they do, it's the future, they believe in their capability to grow and propose more features with time. \n      So there is a light load for now and a steady growth expected, they've opted for several cheap OVH servers."),Xe=d(fn,"BR",{}),ea=p(fn),aa=d(fn,"STRONG",{});var gn=f(aa);ta=y(gn,"2 - product maturity:"),gn.forEach(u),oa=y(fn," It's basically innovative education R&D so they have a very young product."),ra=d(fn,"BR",{}),na=p(fn),ia=d(fn,"STRONG",{});var mn=f(ia);sa=y(mn,"3 - technical skills:"),mn.forEach(u),la=y(fn," Interns, probably young employees, sometimes founder-made prototypes. At this point salaries weigh a lot..."),fn.forEach(u),ca=p(m),ha=d(m,"P",{});var vn=f(ha);da=y(vn,"I'll make a preliminary conclusion to the first question: businesses couldn't have anticipated and even, for the smaller ones, wasn't expected to have...\n      Indeed, if one wants to design a product with \"infinite\" (or easy to add) scaling from scratch, this will cost him a lot of "),ua=d(vn,"STRONG",{});var bn=f(ua);pa=y(bn,"money and time"),bn.forEach(u),fa=y(vn,". \n      Two scarse resources you rationnaly prefer to invest in other things when you're a small business (finding product-market fit, adding features, growing, ...)"),vn.forEach(u),ya=p(m),ga=d(m,"BLOCKQUOTE",{});var wn=f(ga);ma=d(wn,"DIV",{class:!0});var En=f(ma);va=d(En,"DIV",{class:!0});var kn=f(va);ba=d(kn,"IMG",{alt:!0,src:!0}),kn.forEach(u),wa=p(En),Ea=d(En,"DIV",{class:!0});var In=f(Ea);ka=y(In,"Covid-19 is a very good example of a "),Ia=d(In,"A",{href:!0,target:!0});var Tn=f(Ia);Ta=y(Tn,"black swan"),Tn.forEach(u),xa=y(In," event.\n        An event that is very rare, has massive implications, and so for which companies haven't planned for."),Sa=d(In,"BR",{}),Ra=y(In,'\n        Indeed, this point is pretty obvious. We\'ll call it the "bird pause" üòâ'),In.forEach(u),En.forEach(u),wn.forEach(u),Oa=p(m),Ga=d(m,"P",{});var xn=f(Ga);La=y(xn,"I've recently talked with several young edtech companies looking urgently for solutions.\n      They were facing the same issue: their "),Na=d(xn,"STRONG",{});var Sn=f(Na);qa=y(Sn,"relational database could not scale anymore"),Sn.forEach(u),Aa=y(xn," (mysql or postgres). \n      They were trying to add cache, pop new replica nodes, refactoring their apps and services, and their final blocker was the database...\n      The only remaining solution was to "),Pa=d(xn,"STRONG",{});var Rn=f(Pa);Da=y(Rn,"scale writes horizontally"),Rn.forEach(u),Ba=y(xn," (to shard). So they were looking for some smart proxy solutions to put in front \n      allowing the database to scale seamlessly. Not that straightforward though... And not that cheap. "),Ca=d(xn,"BR",{}),Ma=y(xn,"\n      And I don't even talk about managing the "),Va=d(xn,"STRONG",{});var On=f(Va);za=y(On,"migration"),On.forEach(u),Ha=y(xn," in that context!"),Wa=d(xn,"BR",{}),xn.forEach(u),ja=p(m),Ua=d(m,"P",{});var Gn=f(Ua);$a=y(Gn,"To have an idea about how hard it is to shard an existing database I would say that the more "),_a=d(Gn,"EM",{});var Ln=f(_a);Fa=y(Ln,"complex and global"),Ln.forEach(u),Ya=y(Gn," querying you have in place (like cross-accounts data aggregation)\n      the more "),Za=d(Gn,"EM",{});var Nn=f(Za);Qa=y(Nn,"smart and expensive"),Nn.forEach(u),Ka=y(Gn," the front proxy will have to be. It goes from a quite simple hash-distribution routing, to a very complex (and hard-to-scale too) query planner."),Gn.forEach(u),Ja=p(m),Xa=d(m,"P",{});var qn=f(Xa);et=y(qn,"In light of the scaling maturity model, it's quite clear we can't blame them for not having the scaling mechanisms in place before, \n      but at least they could have planned better for their "),at=d(qn,"STRONG",{});var An=f(at);tt=y(An,"next scaling step"),An.forEach(u),ot=y(qn,"."),qn.forEach(u),rt=p(m),nt=d(m,"H1",{class:!0});var Pn=f(nt);it=d(Pn,"A",{id:!0,href:!0});var Dn=f(it);st=y(Dn,"# Then... how to scale efficiently as a startup?"),Dn.forEach(u),Pn.forEach(u),lt=p(m),ct=d(m,"P",{});var Bn=f(ct);ht=y(Bn,'We can deconstruct first what is to be "scaled"'),Bn.forEach(u),dt=p(m),ut=d(m,"UL",{});var Cn=f(ut);pt=d(Cn,"LI",{});var Mn=f(pt);ft=d(Mn,"STRONG",{});var Vn=f(ft);yt=y(Vn,"servers capacity"),Vn.forEach(u),gt=y(Mn,": costs will force you to dimension correctly their size (cpu / ram / storage). They could be physical, virtual, or containers."),Mn.forEach(u),mt=p(Cn),vt=d(Cn,"LI",{});var zn=f(vt);bt=d(zn,"STRONG",{});var Hn=f(bt);wt=y(Hn,"data access patterns"),Hn.forEach(u),Et=y(zn,": better know your usage, avoid shared state and global querying and prefer immutability."),zn.forEach(u),kt=p(Cn),It=d(Cn,"LI",{});var Wn=f(It);Tt=d(Wn,"STRONG",{});var jn=f(Tt);xt=y(jn,"human intervention & maintenance"),jn.forEach(u),St=y(Wn,': "the more you automate, the faster you iterate" (Github, CI/CD, terraform, ...).'),Wn.forEach(u),Rt=p(Cn),Ot=d(Cn,"LI",{});var Un=f(Ot);Gt=d(Un,"STRONG",{});var $n=f(Gt);Lt=y($n,"code refactoring"),$n.forEach(u),Nt=y(Un,": to scale ofter means pre-compute things, use smart caching, more synchronization, all of this has to be coded and maintained at some point."),Un.forEach(u),Cn.forEach(u),qt=p(m),At=d(m,"P",{});var _n=f(At);Pt=d(_n,"EM",{});var Fn=f(Pt);Dt=y(Fn,"Note: if your product does not have any real traction yet, you probably shouldn't think about this at all for now, a good old MVC prototype with whatever tech you already know will do the job."),Fn.forEach(u),_n.forEach(u),Bt=p(m),Ct=d(m,"P",{});var Yn=f(Ct);Mt=y(Yn,"If you already have some usage, and have a first idea of where your business is going, then there are several possibilities. \n    If you have at your disposal a strong technical founder, he probably already knows what to do.\n    Otherwise, especially if you did get some founding, it would be a good idea to get someone experimented enough helping you setup the infrastructure at the beginning."),Yn.forEach(u),Vt=p(m),zt=d(m,"P",{});var Zn=f(zt);Ht=y(Zn,"Let's explore then two different strategies"),Zn.forEach(u),Wt=p(m),jt=d(m,"H2",{class:!0});var Qn=f(jt);Ut=y(Qn,"The infinite scaling strategy"),Qn.forEach(u),$t=p(m),_t=d(m,"P",{});var Kn=f(_t);Ft=y(Kn,"Well I prefer to immediately debunk the myth, it's theoretically possible to "),Yt=d(Kn,"STRONG",{});var Jn=f(Yt);Zt=y(Jn,"approach"),Jn.forEach(u),Qt=y(Kn," such an architecture but it will be very expensive, and possibly quite rigid."),Kt=d(Kn,"BR",{}),Jt=y(Kn,"\n      The key here would be to use a lot of high level managed services who run on giant cloud infrastructures. \n      The services choosen should be 100% dynamic, I mean scale transparently : you shouldn't have to manage any physical nodes directly.\n      They better have included and transparent replication (to scale reads) and sharding capabilities (to scale writes) and be able to be geographically dispatched in several regions on the planet."),Xt=d(Kn,"BR",{}),Kn.forEach(u),eo=p(m),ao=d(m,"P",{});var Xn=f(ao);to=y(Xn,"Here some managed services examples:"),Xn.forEach(u),oo=p(m),ro=d(m,"UL",{});var ei=f(ro);no=d(ei,"LI",{});var ai=f(no);io=y(ai,"Relational datastore: Google cloud spanner"),ai.forEach(u),so=p(ei),lo=d(ei,"LI",{});var ti=f(lo);co=y(ti,"NoSQL real time sync datastore: Google firestore"),ti.forEach(u),ho=p(ei),uo=d(ei,"LI",{});var oi=f(uo);po=y(oi,"Replicated cache: AWS Elasticache"),oi.forEach(u),fo=p(ei),yo=d(ei,"LI",{});var ri=f(yo);go=y(ri,"Distributed File storage: AWS S3"),ri.forEach(u),mo=p(ei),vo=d(ei,"LI",{});var ni=f(vo);bo=y(ni,"Data streaming: Google pubsub"),ni.forEach(u),wo=p(ei),Eo=d(ei,"LI",{});var ii=f(Eo);ko=y(ii,"Columnar-storage (optimized for aggregation) Data lake: Google Bigquery"),ii.forEach(u),ei.forEach(u),Io=p(m),To=d(m,"P",{});var si=f(To);xo=d(si,"EM",{});var li=f(xo);So=y(li,"Yes, that's a lot of GCP services, to be honest they are ahead..!"),li.forEach(u),si.forEach(u),Ro=p(m),Oo=d(m,"DIV",{style:!0});var ci=f(Oo);Go=d(ci,"IMG",{src:!0,class:!0}),ci.forEach(u),Lo=p(m),No=d(m,"EM",{});var hi=f(No);qo=y(hi,"Actually I have to nuance the curve a bit:"),hi.forEach(u),Ao=p(m),Po=d(m,"UL",{});var di=f(Po);Do=d(di,"LI",{});var ui=f(Do);Bo=y(ui,"Price is actually super low at the very beginning: services often offer free plan for a limited volume or during a limited period"),ui.forEach(u),Co=p(di),Mo=d(di,"LI",{});var pi=f(Mo);Vo=y(pi,"On the other side, costs can decrease when you reach a big volume because of degressive pricing, or by using provider specific cost optimization techniques"),pi.forEach(u),di.forEach(u),zo=p(m),Ho=d(m,"H2",{class:!0});var fi=f(Ho);Wo=y(fi,"The step by step scaling strategy"),fi.forEach(u),jo=p(m),Uo=d(m,"DIV",{style:!0});var yi=f(Uo);$o=d(yi,"IMG",{src:!0,class:!0}),yi.forEach(u),_o=p(m),Fo=d(m,"P",{});var gi=f(Fo);Yo=y(gi,"This is the usual and probably the most efficient strategy, you do with what you have at first (skills, people, ...), but you always stay a step ahead, \n      you are conscious about what your system points of failure are, and how to resolve them. You plan carefully for \n      the next system migrations. This requires specifically:"),gi.forEach(u),Zo=p(m),Qo=d(m,"UL",{});var mi=f(Qo);Ko=d(mi,"LI",{});var vi=f(Ko);Jo=y(vi,"To develop a strong "),Xo=d(vi,"STRONG",{});var bi=f(Xo);er=y(bi,"monitoring and alerting pipeline"),bi.forEach(u),ar=y(vi,". You have plenty of tools to do that easily nowadays."),vi.forEach(u),tr=p(mi),or=d(mi,"LI",{});var wi=f(or);rr=y(wi,"To "),nr=d(wi,"STRONG",{});var Ei=f(nr);ir=y(Ei,"test every migration"),Ei.forEach(u),sr=y(wi," before. The more the system is distributed, the harder the problems will be predictable. It's easier to just test it."),wi.forEach(u),mi.forEach(u),lr=p(m),cr=d(m,"P",{});var ki=f(cr);hr=y(ki,"As examples, the scaling next step could be:"),ki.forEach(u),dr=p(m),ur=d(m,"UL",{});var Ii=f(ur);pr=d(Ii,"LI",{});var Ti=f(pr);fr=y(Ti,"Shard the database or the streaming pipeline"),Ti.forEach(u),yr=p(Ii),gr=d(Ii,"LI",{});var xi=f(gr);mr=y(xi,"Introduce automatic scaling of your HTTP services"),xi.forEach(u),vr=p(Ii),br=d(Ii,"LI",{});var Si=f(br);wr=y(Si,"Refactor your application to isolate your data in silos, introduce some kind of load balancing, and replicate parts of your system"),Si.forEach(u),Ii.forEach(u),Er=p(m),kr=d(m,"P",{});var Ri=f(kr);Ir=d(Ri,"EM",{});var Oi=f(Ir);Tr=y(Oi,"Note: smart scaling is specific scaling, so every case has a different story..!"),Oi.forEach(u),Ri.forEach(u),xr=p(m),Sr=d(m,"P",{});var Gi=f(Sr);Rr=y(Gi,"To conclude, the right solution probably lies in between the two strategies. It depends on your budget, the technical complexity of your product, and the skills you have at your disposal."),Or=d(Gi,"BR",{}),Gr=y(Gi,"\n      At least I hope you have now new ideas about how to better anticipate scale !"),Gi.forEach(u),Lr=p(m),Nr=d(m,"BR",{}),qr=p(m),Ar=d(m,"P",{});var Li=f(Ar);Pr=d(Li,"STRONG",{});var Ni=f(Pr);Dr=y(Ni,"Scale safe üëã"),Ni.forEach(u),Br=d(Li,"BR",{}),Cr=y(Li,"\n      By the way if you have scaling needs / specific questions, "),Mr=d(Li,"A",{href:!0});var qi=f(Mr);Vr=y(qi,"I'd be happy to help"),qi.forEach(u),Li.forEach(u),zr=p(m),Hr=d(m,"BR",{}),Wr=p(m),jr=d(m,"DIV",{id:!0}),f(jr).forEach(u),m.forEach(u),g.forEach(u),c.forEach(u),l.forEach(u),this.h()},h:function(){g(t,"rel","canonical"),g(t,"href",e[3]),g(o,"property","og:title"),g(o,"content","@cyppan | "+e[0]),g(r,"property","og:locale"),g(r,"content","en_US"),g(n,"name","description"),g(n,"content",e[1]),g(i,"property","og:description"),g(i,"content",e[1]),g(k,"property","og:url"),g(k,"content",e[3]),g(I,"property","og:site_name"),g(I,"content","@cyppan"),g(G,"class","title is-2"),m(G,"text-align","center"),g(ce,"id","scaling-maturity-model"),g(ce,"href",e[2]+"#scaling-maturity-model"),g(le,"class","title is-3 svelte-1ou6gkp"),pe.src!=="/scaling-maturity.png"&&g(pe,"src","/scaling-maturity.png"),g(pe,"class","is-center"),m(ue,"text-align","center"),g(ba,"alt","black swan Image by Holger Detje from Pixabay"),ba.src!=="/black-swan.jpg"&&g(ba,"src","/black-swan.jpg"),g(va,"class","column is-one-quarter"),g(Ia,"href","https://en.wikipedia.org/wiki/Black_swan_theory"),g(Ia,"target","_blank"),g(Ea,"class","column"),g(ma,"class","columns"),g(it,"id","scale-efficiently"),g(it,"href",e[2]+"#scale-efficiently"),g(nt,"class","title is-3 svelte-1ou6gkp"),g(jt,"class","subtitle is-4 svelte-1ou6gkp"),Go.src!=="/dynamic-scaling-curve.png"&&g(Go,"src","/dynamic-scaling-curve.png"),g(Go,"class","is-center"),m(Oo,"text-align","center"),g(Ho,"class","subtitle is-4 svelte-1ou6gkp"),$o.src!=="/static-scaling-curve.png"&&g($o,"src","/static-scaling-curve.png"),g($o,"class","is-center"),m(Uo,"text-align","center"),g(Mr,"href","/"),g(jr,"id","disqus_thread"),g(O,"class","container content svelte-1ou6gkp"),g(R,"class","box"),g(S,"class","container svelte-1ou6gkp"),g(x,"class","section")},m:function(e,a){v(document.head,t),v(document.head,o),v(document.head,r),v(document.head,n),v(document.head,i),v(document.head,k),v(document.head,I),b(e,T,a),b(e,x,a),v(x,S),v(S,R),v(R,O),v(O,G),v(G,L),v(O,N),v(O,q),v(q,A),v(A,P),v(P,D),v(A,B),v(A,C),v(C,M),v(O,V),v(O,z),v(z,H),v(O,W),v(O,j),v(j,U),v(O,$),v(O,_),v(_,F),v(O,Y),v(O,Z),v(Z,Q),v(Q,K),v(K,J),v(Z,X),v(Z,ee),v(ee,ae),v(ae,te),v(Z,oe),v(Z,re),v(re,ne),v(ne,ie),v(O,se),v(O,le),v(le,ce),v(ce,he),v(O,de),v(O,ue),v(ue,pe),v(O,fe),v(O,ye),v(ye,ge),v(ye,me),v(me,ve),v(ye,be),v(ye,we),v(ye,Ee),v(O,ke),v(O,Ie),v(Ie,Te),v(Te,xe),v(Ie,Se),v(Ie,Re),v(Ie,Oe),v(Ie,Ge),v(Ge,Le),v(Ie,Ne),v(Ie,qe),v(Ie,Ae),v(Ie,Pe),v(Pe,De),v(Ie,Be),v(O,Ce),v(O,Me),v(Me,Ve),v(O,ze),v(O,He),v(He,We),v(He,je),v(He,Ue),v(He,$e),v($e,_e),v(He,Fe),v(O,Ye),v(O,Ze),v(Ze,Qe),v(Qe,Ke),v(Ze,Je),v(Ze,Xe),v(Ze,ea),v(Ze,aa),v(aa,ta),v(Ze,oa),v(Ze,ra),v(Ze,na),v(Ze,ia),v(ia,sa),v(Ze,la),v(O,ca),v(O,ha),v(ha,da),v(ha,ua),v(ua,pa),v(ha,fa),v(O,ya),v(O,ga),v(ga,ma),v(ma,va),v(va,ba),v(ma,wa),v(ma,Ea),v(Ea,ka),v(Ea,Ia),v(Ia,Ta),v(Ea,xa),v(Ea,Sa),v(Ea,Ra),v(O,Oa),v(O,Ga),v(Ga,La),v(Ga,Na),v(Na,qa),v(Ga,Aa),v(Ga,Pa),v(Pa,Da),v(Ga,Ba),v(Ga,Ca),v(Ga,Ma),v(Ga,Va),v(Va,za),v(Ga,Ha),v(Ga,Wa),v(O,ja),v(O,Ua),v(Ua,$a),v(Ua,_a),v(_a,Fa),v(Ua,Ya),v(Ua,Za),v(Za,Qa),v(Ua,Ka),v(O,Ja),v(O,Xa),v(Xa,et),v(Xa,at),v(at,tt),v(Xa,ot),v(O,rt),v(O,nt),v(nt,it),v(it,st),v(O,lt),v(O,ct),v(ct,ht),v(O,dt),v(O,ut),v(ut,pt),v(pt,ft),v(ft,yt),v(pt,gt),v(ut,mt),v(ut,vt),v(vt,bt),v(bt,wt),v(vt,Et),v(ut,kt),v(ut,It),v(It,Tt),v(Tt,xt),v(It,St),v(ut,Rt),v(ut,Ot),v(Ot,Gt),v(Gt,Lt),v(Ot,Nt),v(O,qt),v(O,At),v(At,Pt),v(Pt,Dt),v(O,Bt),v(O,Ct),v(Ct,Mt),v(O,Vt),v(O,zt),v(zt,Ht),v(O,Wt),v(O,jt),v(jt,Ut),v(O,$t),v(O,_t),v(_t,Ft),v(_t,Yt),v(Yt,Zt),v(_t,Qt),v(_t,Kt),v(_t,Jt),v(_t,Xt),v(O,eo),v(O,ao),v(ao,to),v(O,oo),v(O,ro),v(ro,no),v(no,io),v(ro,so),v(ro,lo),v(lo,co),v(ro,ho),v(ro,uo),v(uo,po),v(ro,fo),v(ro,yo),v(yo,go),v(ro,mo),v(ro,vo),v(vo,bo),v(ro,wo),v(ro,Eo),v(Eo,ko),v(O,Io),v(O,To),v(To,xo),v(xo,So),v(O,Ro),v(O,Oo),v(Oo,Go),v(O,Lo),v(O,No),v(No,qo),v(O,Ao),v(O,Po),v(Po,Do),v(Do,Bo),v(Po,Co),v(Po,Mo),v(Mo,Vo),v(O,zo),v(O,Ho),v(Ho,Wo),v(O,jo),v(O,Uo),v(Uo,$o),v(O,_o),v(O,Fo),v(Fo,Yo),v(O,Zo),v(O,Qo),v(Qo,Ko),v(Ko,Jo),v(Ko,Xo),v(Xo,er),v(Ko,ar),v(Qo,tr),v(Qo,or),v(or,rr),v(or,nr),v(nr,ir),v(or,sr),v(O,lr),v(O,cr),v(cr,hr),v(O,dr),v(O,ur),v(ur,pr),v(pr,fr),v(ur,yr),v(ur,gr),v(gr,mr),v(ur,vr),v(ur,br),v(br,wr),v(O,Er),v(O,kr),v(kr,Ir),v(Ir,Tr),v(O,xr),v(O,Sr),v(Sr,Rr),v(Sr,Or),v(Sr,Gr),v(O,Lr),v(O,Nr),v(O,qr),v(O,Ar),v(Ar,Pr),v(Pr,Dr),v(Ar,Br),v(Ar,Cr),v(Ar,Mr),v(Mr,Vr),v(O,zr),v(O,Hr),v(O,Wr),v(O,jr)},p:function(e,t){1&w(t,1)[0]&&a!==(a="\n    @cyppan | "+e[0]+"\n  ")&&(document.title=a)},i:E,o:E,d:function(e){u(t),u(o),u(r),u(n),u(i),u(k),u(I),e&&u(T),e&&u(x)}}}function S(e,a,t){var o="/blog/en/2020-04-01-scaling-stories-how-startups-failed";return["scaling stories: how startups failed","During COVID-19, online services, especially meeting utilities or edtech programs, had to face a particularly sustained usage, enduring a unplanned and lasting peak load recently. Couldn't those businesses have anticipated more? Couldn't they have a stronger tech at the origin, exceptional event or not?",o,"https://cyppan.me/blog/en/2020-04-01-scaling-stories-how-startups-failed"]}export default(function(s){e(c,i);var l=T(c);function c(e){var n;return a(this,c),n=l.call(this),t(r(n),e,S,x,o,{title:0,description:1,path:2,url:3}),n}return n(c,[{key:"title",get:function(){return this.$$.ctx[0]}},{key:"description",get:function(){return this.$$.ctx[1]}},{key:"path",get:function(){return this.$$.ctx[2]}},{key:"url",get:function(){return this.$$.ctx[3]}}]),c}());
